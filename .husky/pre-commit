#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ§‘ Styling, testing, and building your application before committing... ğŸ§‘'

# check tsconfig standards
npm run check-types ||
(
    echo 'âŒ TypeScript check failed. Make the required changes listed above and try to commit again. âŒ'
    false;
)

# check prettier standards
npm run check-format ||
(
    echo 'âŒ Prettier check failed. Run `npm run format` and try to commit again. âŒ'
    false;
)

# check eslint standards
npm run check-lint || 
(
    echo 'âŒ ESLint check failed. Make the required changes listed above and try to commit again. âŒ'
    false;
)

# check build doesn't fail
npm run build || 
(
    echo 'âŒ Next build failed. Make the required changes listed above and try to commit again. âŒ'
    false;
)

echo 'âœ… All checks passed! Committing... âœ…'
